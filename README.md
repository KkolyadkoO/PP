# Расчётная работа 1

<b>Вариант:</b> 6.3 (СИ)

<b>Постановка задачи:</b> найти минимальное множество вершин, удаление которых позволяет сделать неориентированный граф планарным

<b>Определения:</b>

- Граф - геометрический объект, состоящий из точек (вершин) и линий, которые их соединяют (рёбер)
- Неориентированный граф - граф, у которого ребра не имеют направления
- Планарный граф - граф, который можно изобразить на плоскости без пересечений рёбер не по вершинам
- Изоморфизм графов - биекция между множествами вершин двух графов
- Подразделение графа - граф, полученный делением рёбер данного графа
- Исключение вершины - операция, обратная к подразделению графа
- Гомеоморфные графы - графы, для подразделений которых существует изоморфизм
- Степенью вершины - число ребер графа, которым принадлежит эта вершина. 
- Подграф — это часть графа, в которой мы берем некоторые его вершины и ребра.

<b>Описание алгоритма:</b>

1. Исключение всех возможных вершин из данного графа
2. Проверка на критерий планарности
  * Поиск подграфа К5 (1)
  * Поиск подграфа К3,3 (2)
3. Поиск общих вершин найденных подграфов (если имеются), рассмотрение их как приоритетных для удаления
4. Удаление найденных ранее вершин

(1) Поиск подграфа К5
1. Выделение подграфа, состоящего из вершин, степень которых 5 и более (такие вершины названы кандидатами 1 уровня)
2. Если кандидатов первого уровня менее 5, возвращение пустой граф 
3. Выделение подграфа из графа кандидатов 1 уровня по степени каждой вершины 4 и более (такие вершины названы кандидатами 2 уровня)
4. Если кандидатов второго уровня менее 5, возвращение пустой граф 
5. Поиск выполнен. Возвращаем подграф, содержащий К5 или несколько таковых

(2) Поиск подграфа К3,3
1. Выделение подграфа, состоящего из вершин, степень которых 3 и более (такие вершины названы кандидатами 1 уровня)
2. Составление всех возможных сочетаний по 6 вершин из графа кандидатов 1 уровня
3. Проверка каждого сочетания на содержание изоморфизма К3,3
  * Составление всех возможных сочетаний по 3 вершины из выбранного подграфа
  * Проверка, является ли выбранный набор из 3 вершин долей графа (если имеет 3 смежные вершины из другой доли)
  * Если дольность выявлена, удаление рёбер, инцидентных парам вершин из одной доли
4. Объединение найденных изоморфизмов в один граф
5. Возвращаем найденный подграф, содержащий К3,3 или несколько таковых

# Реализованные функции
<details>
<summary><b>Функции</b></summary>
<br />

- GetVertexFromString

Функция чтения строки формата "имя - ребро - ребро - ... - ребро" в объект типа vertex

- GetGraphFromFile

Функция чтения графа из файла. Использует вышеуказанную функцию для построчного чтения вершин.

- WriteGraphToFile

Запись графа в указанный файл

- CleanVector

Вспомогательная функция для очистки векторов от дубликатов.

- GetNeighboorVertices

Функция для получения списка номеров вершин в графе, смежных с данной. Работает путём нахождения совпадений в СИ данной и других вершин

- Neighboors

Проверяет, являются ли две вершины в графе смежными, сравнивая их СИ

- CanBeExcluded

Проверяет, может ли вершина быть исключённой из графа. Условие - степень 2 данной вершины а также несмежность двух смежных данной вершине вершин.

- GetCommonVertices

Получает список номеров вершин, которые содержатся в обоих данных графах

- GetCommonEdges 

Получает список рёбер, содержащихся в СИ двух данных вершин

Получает список рёбер, общих для двух данных графов

- GetEdgeNumber

Вспомогательная функция. Возвращает номер данного ребра из СИ данной вершины

- EcludeVertex

Исключает вершину из графа. Возвращает 1 при успешном выполнении, 0 если исключение невозможно

- ExcludeAllVertices

Использует вышеуказанную функцию для исключения всех возможных вершин из данного графа

- DeleteVertex

Удаляет данную вершину из данного графа. Также очищает СИ всех вершин, ранее смежных с удалённой, от рёбер, ведущих в никуда

- DeleteEdge

Удаляет данное ребро из данного графа

- CleanIncidenceList

Вспомогательная функция. Очищает СИ данной вершины данного графа от рёбер, ведущих в никуда

- CleanAllIncidenceList

Использует вышеуказанную функцию для очистки СИ всех вершин данного графа
 
- GetSubgraph_K5

Возвращает граф, содержащий все изоморфизмы подграфов данного графа полному графу К5 (часть проверки критерия планарности)

- GetSubgraph_K33

Возвращает подграф изоморфный полному двудольному графу К3,3 (часть проверки критерия планарности)

- MakePlanar

Удаляет из графа минимальное множество вершин для превращения его в планарный

</details>

# Пример работы программы 

  ![ex](https://github.com/KkolyadkoO/screen/blob/main/PP1/example.png)

# Тестовые графы

![input1](https://github.com/KkolyadkoO/screen/blob/main/PP1/input1.png)

В первом примере граф планарный, изменять граф не надо.

![input2](https://github.com/KkolyadkoO/screen/blob/main/PP1/input2.png)

Второй пример - полный граф К5. Решение примера - удаление любой вершины.

Ответ: 1

![input3](https://github.com/KkolyadkoO/screen/blob/main/PP1/input3.png)

Третий пример - полный граф K6. Решением будет удаление двух любых вершин графа.

Ответ: 1,2

![input4](https://github.com/KkolyadkoO/screen/blob/main/PP1/input4.png)

Четвертый пример - граф содержащий подраф K3,3.

Ответ: 1

![input5](https://github.com/KkolyadkoO/screen/blob/main/PP1/input5.png)

Пятый пример - граф, содержащий как подграф К5, так и подграф К3,3. Пример показывает, что программа удаляет общую вершину подграфа K3,3 и K5.

Ответ: 5

# Вывод

Расчётная работа позволила ознакомится с задачами на теорию графов. В ходе выполнения была изученна теория и большое колличество алгоритмов.

# Источники информации

1. https://en.wikipedia.org/wiki/Planar_graph
2. https://en.wikipedia.org/wiki/Homeomorphism_(graph_theory) 
3. https://e-maxx.ru/algo/generating_combinations 
4. https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0_%D0%BF%D0%BB%D0%B0%D0%BD%D0%B0%D1%80%D0%BD%D0%BE%D1%81%D1%82%D0%B8
5. https://ru.stackoverflow.com/questions/670341/%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D0%B3%D1%80%D0%B0%D1%84%D0%B0-%D0%BD%D0%B0-%D0%BF%D0%BB%D0%B0%D0%BD%D0%B0%D1%80%D0%BD%D0%BE%D1%81%D1%82%D1%8C